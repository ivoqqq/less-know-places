{"remainingRequest":"E:\\code\\VueJS\\roads\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\VueJS\\roads\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\code\\VueJS\\roads\\src\\router.js","dependencies":[{"path":"E:\\code\\VueJS\\roads\\src\\router.js","mtime":1610270024652},{"path":"E:\\code\\VueJS\\roads\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\VueJS\\roads\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\code\\VueJS\\roads\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwppbXBvcnQgSG9tZSBmcm9tICIuL2NvbXBvbmVudHMvUm9hZHMvSG9tZSI7CmltcG9ydCBIaXRUaGVSb2FkIGZyb20gIi4vY29tcG9uZW50cy9Sb2Fkcy9IaXRUaGVSb2FkIjsKaW1wb3J0IERldGFpbHMgZnJvbSAiLi9jb21wb25lbnRzL1JvYWRzL0RldGFpbHMiOwppbXBvcnQgQ3JlYXRlIGZyb20gIi4vY29tcG9uZW50cy9Sb2Fkcy9DcmVhdGUiOwppbXBvcnQgRWRpdCBmcm9tICIuL2NvbXBvbmVudHMvUm9hZHMvRWRpdCI7CmltcG9ydCBVc2VyUHJvZmlsZSBmcm9tICIuL2NvbXBvbmVudHMvUm9hZHMvVXNlclByb2ZpbGUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAiLyIsCiAgICBjb21wb25lbnQ6IEhvbWUKICB9LCB7CiAgICBwYXRoOiAiL2hpdC10aGUtcm9hZCIsCiAgICBjb21wb25lbnQ6IEhpdFRoZVJvYWQsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICIvY3JlYXRlIiwKICAgIGNvbXBvbmVudDogQ3JlYXRlLAogICAgbWV0YTogewogICAgICByZXF1aXJlc0F1dGg6IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiL3Byb2ZpbGUiLAogICAgY29tcG9uZW50OiBVc2VyUHJvZmlsZSwKICAgIG1ldGE6IHsKICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogIi9kZXRhaWxzLzppZCIsCiAgICBuYW1lOiAiRGV0YWlscyIsCiAgICBjb21wb25lbnQ6IERldGFpbHMKICB9LCB7CiAgICBwYXRoOiAiL2VkaXQvOmlkIiwKICAgIG5hbWU6ICJFZGl0IiwKICAgIGNvbXBvbmVudDogRWRpdAogIH1dLAogIG1vZGU6ICJoaXN0b3J5Igp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIGN1cnJlbnRVc2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwogIHZhciByZXF1aXJlc0F1dGggPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aDsKICB9KTsKCiAgaWYgKHJlcXVpcmVzQXV0aCAmJiAhY3VycmVudFVzZXIpIHsKICAgIGFsZXJ0KCJ0byB2aXNpdCB0aGlzIHBhZ2UgeW91IGhhdmUgdG8gbG9naW4gZmlyc3QiKTsKICAgIG5leHQoIi8iKTsKICB9IGVsc2UgaWYgKCFyZXF1aXJlc0F1dGggJiYgY3VycmVudFVzZXIpIHsKICAgIG5leHQoKTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["E:/code/VueJS/roads/src/router.js"],"names":["Vue","VueRouter","firebase","Home","HitTheRoad","Details","Create","Edit","UserProfile","use","router","routes","path","component","meta","requiresAuth","name","mode","beforeEach","to","from","next","currentUser","auth","matched","some","record","alert"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AAEAR,GAAG,CAACS,GAAJ,CAAQR,SAAR;AAEA,IAAMS,MAAM,GAAG,IAAIT,SAAJ,CAAc;AAC3BU,EAAAA,MAAM,EAAE,CACN;AAAEC,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,SAAS,EAAEV;AAAxB,GADM,EAEN;AAAES,IAAAA,IAAI,EAAE,eAAR;AAAyBC,IAAAA,SAAS,EAAET,UAApC;AAAgDU,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAAtD,GAFM,EAGN;AAAEH,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,SAAS,EAAEP,MAA9B;AAAsCQ,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAA5C,GAHM,EAIN;AAAEH,IAAAA,IAAI,EAAE,UAAR;AAAoBC,IAAAA,SAAS,EAAEL,WAA/B;AAA4CM,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAAlD,GAJM,EAKN;AAAEH,IAAAA,IAAI,EAAE,cAAR;AAAwBI,IAAAA,IAAI,EAAE,SAA9B;AAAyCH,IAAAA,SAAS,EAAER;AAApD,GALM,EAMN;AAAEO,IAAAA,IAAI,EAAE,WAAR;AAAqBI,IAAAA,IAAI,EAAE,MAA3B;AAAmCH,IAAAA,SAAS,EAAEN;AAA9C,GANM,CADmB;AAS3BU,EAAAA,IAAI,EAAE;AATqB,CAAd,CAAf;AAYAP,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIC,WAAW,GAAGpB,QAAQ,CAACqB,IAAT,GAAgBD,WAAlC;AACA,MAAIP,YAAY,GAAGI,EAAE,CAACK,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACZ,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAAnB;;AACA,MAAIA,YAAY,IAAI,CAACO,WAArB,EAAkC;AAChCK,IAAAA,KAAK,CAAC,4CAAD,CAAL;AACAN,IAAAA,IAAI,CAAC,GAAD,CAAJ;AACD,GAHD,MAGO,IAAI,CAACN,YAAD,IAAiBO,WAArB,EAAkC;AACvCD,IAAAA,IAAI;AACL,GAFM,MAEA;AACLA,IAAAA,IAAI;AACL;AACF,CAXD;AAYA,eAAeX,MAAf","sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport * as firebase from \"firebase\";\r\n\r\nimport Home from \"./components/Roads/Home\";\r\nimport HitTheRoad from \"./components/Roads/HitTheRoad\";\r\nimport Details from \"./components/Roads/Details\";\r\nimport Create from \"./components/Roads/Create\";\r\nimport Edit from \"./components/Roads/Edit\";\r\nimport UserProfile from \"./components/Roads/UserProfile\"\r\n\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n  routes: [\r\n    { path: \"/\", component: Home },\r\n    { path: \"/hit-the-road\", component: HitTheRoad, meta: { requiresAuth: true } },\r\n    { path: \"/create\", component: Create, meta: { requiresAuth: true } },\r\n    { path: \"/profile\", component: UserProfile, meta: { requiresAuth: true } },\r\n    { path: \"/details/:id\", name: \"Details\", component: Details, },\r\n    { path: \"/edit/:id\", name: \"Edit\", component: Edit },\r\n  ],\r\n  mode: \"history\",\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  let currentUser = firebase.auth().currentUser\r\n  let requiresAuth = to.matched.some(record => record.meta.requiresAuth)\r\n  if (requiresAuth && !currentUser) {\r\n    alert(\"to visit this page you have to login first\")\r\n    next(\"/\")\r\n  } else if (!requiresAuth && currentUser) {\r\n    next()\r\n  } else {\r\n    next()\r\n  }\r\n})\r\nexport default router"]}]}